# LLM Configuration
LLM_API_URL=http://10.30.3.40:11434/api/generate
# LLM_MODEL_NAME=hf.co/NousResearch/Nous-Hermes-2-Mistral-7B-DPO-GGUF:Q4_K_M
LLM_MODEL_NAME=ani

# Qdrant Configuration
QDRANT_HOST=10.30.1.169
COLLECTION_NAME=kb
EMBED_DIM=768

# NLTK Configuration
NLTK_PATH=nltk_data

# ===== RAG ENHANCEMENT SETTINGS =====

# Enable/Disable multilingual features (true/false)
# Set to false for single language processing (faster, simpler)
# ENABLE_MULTILINGUAL_FEATURES=true

# Enable/Disable strict semantic checking (true/false)
# false = More permissive, better for business domain mixed language
# true = Stricter filtering, better for preventing false positives
# ENABLE_STRICT_SEMANTIC_CHECK=false

# Business domain mode (true/false)  
# true = Handle mixed Vietnamese + English business terms better
# false = Strict language separation
# BUSINESS_DOMAIN_MODE=true

# ===== THRESHOLD CONFIGURATION =====

# Semantic relevance threshold (0.0-1.0)
# Lower = more permissive, higher = more strict
# Defaults: 0.35 (lenient) / 0.45 (strict)
# SEMANTIC_THRESHOLD=0.35

# Minimum embedding score threshold (0.0-1.0)
# Lower = more permissive, higher = more strict  
# Defaults: 0.25 (lenient) / 0.35 (strict)
# MIN_EMBEDDING_SCORE=0.25

# Fallback threshold for LLM judge (0.0-1.0)
# When semantic score is unclear, use LLM to decide
# Defaults: 0.55 (lenient) / 0.60 (strict)
FALLBACK_THRESHOLD=0.55

# ===== ADVANCED SETTINGS =====

# Language detection sensitivity for Vietnamese (0.0-1.0)
# Lower = easier to detect as Vietnamese
VIETNAMESE_DETECTION_THRESHOLD=0.05

# Mixed language penalty (0.0-1.0)
# Only used when BUSINESS_DOMAIN_MODE=false
# 1.0 = no penalty, 0.9 = slight penalty for language mismatch
LANGUAGE_CONSISTENCY_BONUS=1.0

# TF-IDF feature limits per language
TFIDF_MAX_FEATURES_EN=1000
TFIDF_MAX_FEATURES_VI=1500
TFIDF_MAX_FEATURES_ZH=2000

# Context diversity penalty (0.0-1.0)
# Higher = more diverse results, lower = allow similar content
DIVERSITY_PENALTY=0.1

# ===== PRESET CONFIGURATIONS =====

# Uncomment one of these preset configurations:

# PRESET: Permissive Business Mode (recommended for mixed language business docs)
ENABLE_MULTILINGUAL_FEATURES=true
ENABLE_STRICT_SEMANTIC_CHECK=false  
BUSINESS_DOMAIN_MODE=false
SEMANTIC_THRESHOLD=0.5
MIN_EMBEDDING_SCORE=0.7

MIN_FALLBACK_SCORE=0.4
MAX_FALLBACK_SCORE=0.7

# PRESET: Strict Academic Mode (for clean, single-language documents)
# ENABLE_MULTILINGUAL_FEATURES=true
# ENABLE_STRICT_SEMANTIC_CHECK=true
# BUSINESS_DOMAIN_MODE=false  
# SEMANTIC_THRESHOLD=0.50
# MIN_EMBEDDING_SCORE=0.40

# PRESET: Simple Fast Mode (disable advanced features, fastest performance)
# ENABLE_MULTILINGUAL_FEATURES=false
# ENABLE_STRICT_SEMANTIC_CHECK=false
# BUSINESS_DOMAIN_MODE=false
# SEMANTIC_THRESHOLD=0.35
# MIN_EMBEDDING_SCORE=0.30